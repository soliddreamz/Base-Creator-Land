<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Base App</title>
<style>
body{
  margin:0;
  font-family: system-ui;
  background:#0b0b0f;
  color:#fff;
}
.card{
  max-width:420px;
  margin:40px auto;
  padding:20px;
  border-radius:16px;
  background:#111;
}
a{
  display:block;
  padding:12px;
  margin-top:10px;
  background:#222;
  border-radius:10px;
  color:#fff;
  text-decoration:none;
}
.badge{
  margin-top:10px;
  padding:8px;
  background:#1f2937;
  border-radius:8px;
  font-size:12px;
}
</style>
</head>
<body>

<div class="card">
  <h2 id="name">Loadingâ€¦</h2>
  <p id="bio"></p>

  <div id="live"></div>
  <div id="links"></div>

  <div class="badge" id="mode"></div>
</div>

<script>
const DEFAULT_STATE = {
  name: "Base Creator",
  bio: "",
  mode: "TEST",
  live: { isLive:false, url:"" },
  links: []
};

function loadState(){
  const raw = localStorage.getItem("BASE_STATE_V1");
  return raw ? JSON.parse(raw) : DEFAULT_STATE;
}

function render(){
  const s = loadState();

  document.getElementById("name").textContent = s.name;
  document.getElementById("bio").textContent = s.bio;
  document.getElementById("mode").textContent = "Mode: " + s.mode;

  const live = document.getElementById("live");
  live.innerHTML = "";
  if(s.live.isLive && s.live.url){
    live.innerHTML = `<a href="${s.live.url}">ðŸ”´ Live Now</a>`;
  }

  const links = document.getElementById("links");
  links.innerHTML = "";
  s.links.forEach(l=>{
    const a = document.createElement("a");
    a.href = l.url;
    a.textContent = l.label;
    links.appendChild(a);
  });
}

render();
window.addEventListener("storage", render);
</script>

</body>
</html>
